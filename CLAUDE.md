# CLAUDE.md

## Project

**Summary:** Portfolio website for a designer with admin panel for content updates

It has 2 Sites

- Portfolio (angelregner.com)
  - statically generated by NextJS
  - served through CDN for global speed

- Admin page (admin.angelregner.com)
  - requires login credentials
  - accepts edits to portfolio content
    - uses MongoDB to persist editable text
    - when edit is published, calls GitHub API to retrigger static generation and deployment of portfolio
  - built with NextJS
  - deployed via container and cloudrun

**Tech Stack:**
- Fullstack
  - NodeJS
  - NextJS
  - TypeScript
- Frontend
  - React
  - Tailwind CSS
  - Google Analytics 4
- Backend:
  - TypeScript
  - Prisma
- Database
  - MongoDB
- DevOps
  - Docker
  - GitHub Actions
  - Terraform
- Infrastructure:
  - Cloud Run (container hosting)
  - MongoDB Atlas
  - Cloud Storage + CDN (static files)
  - Artifact Registry (Docker images)
  - Secret Manager (credentials)


---

## Quick Start

```bash
# Start in Docker
docker compose up

# Rebuild container
docker compose up --build

# Stop
docker compose down
```

---

## Code Style

**General:**
- Prefer arrow functions over function declarations
- Implicit returns where possible
- No semicolons
- Comment non-obvious lines or blocks of code for clarity

**TypeScript:**
- Strict mode enabled
- Avoid `any` - use `unknown` or proper types
- Prefer `interface` for object shapes, `type` for unions/aliases

**Architecture:**
- Loosely prefer FP over OOP, unless it sacrifices clarity and simplicity
  - Favor immutable data and pure functions
  - Favor function composition
  - Avoid unnecessary classes or deep inheritance hierarchies. Use OOP only when it naturally fits the problem (e.g., modeling real-world entities with behavior)
- Keep components small, single-responsibility

---

## Git Workflow

**Deployment:**
- Staging: PR from `develop` â†’ `staging` (no direct push)

---

## MCP Servers

- Always use context7 when I need code generation, setup or configuration steps, or
library/API documentation. This means you should automatically use the Context7 MCP
tools to resolve library id and get library docs without me having to explicitly ask.
