'use client'

import { trackEvent } from '@/lib/analytics'
import { cn } from '@angel-portfolio/shared'

type SocialLinks = {
  behance?: string
  linkedin?: string
  whatsapp?: string
  facebook?: string
  instagram?: string
  email?: string
}

type ContactSectionProps = {
  headline: string
  ctaText: string
  socialLinks: SocialLinks
}

// Icon components matching the Figma design
const WhatsAppIcon = () => (
  <svg width='40' height='40' viewBox='0 0 40 40' fill='currentColor' aria-hidden='true'>
    <path d='M20.0017 3.33301C29.2067 3.33301 36.6683 10.7947 36.6683 19.9997C36.6683 29.2047 29.2067 36.6663 20.0017 36.6663C17.0562 36.6714 14.1626 35.8919 11.6183 34.408L3.34165 36.6663L5.59499 28.3863C4.10992 25.8412 3.32982 22.9464 3.33499 19.9997C3.33499 10.7947 10.7967 3.33301 20.0017 3.33301ZM14.3217 12.1663L13.9883 12.1797C13.7728 12.1945 13.5622 12.2511 13.3683 12.3463C13.1876 12.4489 13.0226 12.5768 12.8783 12.7263C12.6783 12.9147 12.565 13.078 12.4433 13.2363C11.8269 14.0378 11.4949 15.0219 11.5 16.033C11.5033 16.8497 11.7167 17.6447 12.05 18.388C12.7317 19.8913 13.8533 21.483 15.3333 22.958C15.69 23.313 16.04 23.6697 16.4167 24.0013C18.2557 25.6203 20.4471 26.788 22.8167 27.4113L23.7633 27.5563C24.0717 27.573 24.38 27.5497 24.69 27.5347C25.1753 27.5091 25.6491 27.3777 26.0783 27.1497C26.2964 27.0369 26.5094 26.9146 26.7167 26.783C26.7167 26.783 26.7872 26.7352 26.925 26.633C27.15 26.4663 27.2883 26.348 27.475 26.153C27.615 26.0086 27.7317 25.8408 27.825 25.6497C27.955 25.378 28.085 24.8597 28.1383 24.428C28.1783 24.098 28.1667 23.918 28.1617 23.8063C28.155 23.628 28.0067 23.443 27.845 23.3647L26.875 22.9297C26.875 22.9297 25.425 22.298 24.5383 21.8947C24.4455 21.8543 24.3461 21.8311 24.245 21.8263C24.1309 21.8144 24.0157 21.8271 23.907 21.8637C23.7983 21.9002 23.6987 21.9596 23.615 22.038C23.6067 22.0347 23.495 22.1297 22.29 23.5897C22.2208 23.6826 22.1256 23.7528 22.0163 23.7914C21.9071 23.83 21.7888 23.8352 21.6767 23.8063C21.568 23.7774 21.4616 23.7406 21.3583 23.6963C21.1517 23.6097 21.08 23.5763 20.9383 23.5163C19.9814 23.0995 19.0957 22.5355 18.3133 21.8447C18.1033 21.6613 17.9083 21.4613 17.7083 21.268C17.0527 20.64 16.4812 19.9297 16.0083 19.1547L15.91 18.9963C15.8404 18.8893 15.7834 18.7747 15.74 18.6547C15.6767 18.4097 15.8417 18.213 15.8417 18.213C15.8417 18.213 16.2467 17.7697 16.435 17.5297C16.6183 17.2963 16.7733 17.0697 16.8733 16.908C17.07 16.5913 17.1317 16.2663 17.0283 16.0147C16.5617 14.8747 16.0794 13.7408 15.5817 12.613C15.4833 12.3897 15.1917 12.2297 14.9267 12.198C14.8367 12.1869 14.7467 12.178 14.6567 12.1713C14.4329 12.1585 14.2085 12.1607 13.985 12.178L14.3217 12.1663Z' />
  </svg>
)

const BehanceIcon = () => (
  <svg width='40' height='40' viewBox='0 0 40 40' fill='currentColor' aria-hidden='true'>
    <path d='M12.2566 18.5118V15.8368C12.2566 15.6785 12.2566 15.6151 12.4633 15.6151C14.2349 15.6151 15.6749 15.5101 16.3899 15.9318C17.1066 16.3518 17.1366 16.9318 17.1483 17.1051C17.1599 17.2785 17.1549 17.5268 16.8216 18.1318C16.4883 18.7368 14.9966 18.7485 13.9199 18.7485H12.4949C12.3199 18.7485 12.2566 18.6851 12.2566 18.5118ZM17.1666 21.3151C17.3317 21.5258 17.4495 21.7696 17.5121 22.0298C17.5747 22.2901 17.5806 22.5607 17.5293 22.8235C17.4781 23.0862 17.371 23.3348 17.2152 23.5525C17.0595 23.7702 16.8587 23.9518 16.6266 24.0851C16.2856 24.2286 15.9198 24.3039 15.5499 24.3068H12.4783C12.3199 24.3068 12.2566 24.3068 12.2566 24.1018V20.9351C12.2566 20.7768 12.2566 20.7135 12.4633 20.7135H14.5049C15.7716 20.7135 16.5633 20.6035 17.1666 21.3151Z' />
    <path d='M28.3148 19.8487C28.2299 19.6484 28.101 19.4698 27.9377 19.3262C27.7745 19.1825 27.5809 19.0774 27.3715 19.0187C26.9529 18.9043 26.5148 18.8801 26.0861 18.9476C25.6575 19.0151 25.248 19.1728 24.8848 19.4103C24.5229 19.776 24.289 20.249 24.2182 20.7587C24.2182 20.937 24.2182 20.9703 24.4298 20.9703H28.3798C28.5748 20.9703 28.5748 20.9703 28.5582 20.7253C28.5395 20.4191 28.4577 20.1202 28.3148 19.8487ZM28.3148 19.8487C28.2299 19.6484 28.0994 19.4698 27.9361 19.3262C27.7728 19.1825 27.5809 19.0774 27.3715 19.0187C26.9529 18.9043 26.5148 18.8801 26.0861 18.9476C25.6575 19.0151 25.248 19.1728 24.8848 19.4103C24.5229 19.776 24.2874 20.249 24.2165 20.7587C24.2165 20.937 24.2165 20.9703 24.4282 20.9703H28.3798C28.5748 20.9703 28.5748 20.9703 28.5582 20.7253C28.5395 20.4191 28.4543 20.1202 28.3115 19.8487M30.1665 4.16699H10.6665C8.9426 4.16699 7.2893 4.85181 6.07031 6.0708C4.85132 7.28978 4.1665 8.94309 4.1665 10.667V30.167C4.1665 31.8909 4.85132 33.5442 6.07031 34.7632C7.2893 35.9822 8.9426 36.667 10.6665 36.667H30.1665C31.8904 36.667 33.5437 35.9822 34.7627 34.7632C35.9817 33.5442 36.6665 31.8909 36.6665 30.167V10.667C36.6665 8.94309 35.9817 7.28978 34.7627 6.0708C33.5437 4.85181 31.8904 4.16699 30.1665 4.16699ZM23.7965 14.517C23.7965 14.3887 23.7965 14.3387 23.9432 14.3387H29.2082V15.7053C29.2082 15.7053 29.2132 15.802 29.1265 15.802H24.0248C23.7965 15.802 23.7965 15.802 23.7965 15.5753V14.517ZM18.9215 26.462C16.9215 27.5503 13.5598 27.112 9.57817 27.112V13.6403H15.9315C17.5565 13.6403 19.4898 14.047 20.0098 15.7687C20.2799 16.5206 20.2634 17.3457 19.9637 18.0863C19.6639 18.8269 19.1019 19.4312 18.3848 19.7837C19.0458 20.0282 19.6228 20.457 20.0476 21.0193C20.4724 21.5816 20.7273 22.2538 20.782 22.9564C20.8367 23.659 20.689 24.3626 20.3563 24.9838C20.0236 25.6051 19.5199 26.1181 18.9048 26.462H18.9215ZM31.0282 22.627H24.5282C24.3498 22.627 24.1865 22.7237 24.2182 22.952C24.4132 23.9103 24.8515 24.9187 25.8448 25.0653C26.3693 25.2214 26.931 25.1974 27.4403 24.9972C27.9496 24.7969 28.3771 24.4319 28.6548 23.9603C28.6548 23.9603 28.7365 23.862 28.7848 23.862H30.8982C30.8982 23.862 31.0282 23.862 30.9948 23.9753C30.772 24.6064 30.4422 25.1944 30.0198 25.7137C29.455 26.2532 28.7735 26.6553 28.0281 26.8888C27.2827 27.1222 26.4935 27.1808 25.7218 27.0599C24.9501 26.939 24.2167 26.6419 23.5784 26.1916C22.9402 25.7414 22.4143 25.1501 22.0415 24.4637C21.8122 24.0059 21.6693 23.5099 21.6198 23.0003C21.33 21.7196 21.5515 20.3764 22.2373 19.2566C22.9231 18.1369 24.019 17.3291 25.2915 17.0053C28.9798 16.2087 31.3198 18.7437 31.3198 22.3187C31.3253 22.3604 31.3211 22.4029 31.3075 22.4428C31.294 22.4827 31.2714 22.519 31.2416 22.5488C31.2118 22.5786 31.1756 22.6011 31.1357 22.6147C31.0958 22.6282 31.0533 22.6325 31.0115 22.627H31.0282ZM27.3882 19.0187C26.9699 18.9026 26.5315 18.8788 26.1032 18.9487C25.6748 19.0153 25.2915 19.097 24.9015 19.4103C24.5115 19.722 24.3048 20.2487 24.2348 20.7587C24.2348 20.937 24.2348 20.9703 24.4465 20.9703H28.3798C28.5748 20.9703 28.5748 20.9703 28.5582 20.7253C28.5395 20.4191 28.4577 20.1202 28.3148 19.8487C28.2299 19.6484 28.101 19.4698 27.9377 19.3262C27.7745 19.1825 27.5809 19.0774 27.3715 19.0187H27.3882Z' />
  </svg>
)

const FacebookIcon = () => (
  <svg width='40' height='40' viewBox='0 0 40 40' fill='currentColor' aria-hidden='true'>
    <path d='M20.0002 3.40039C10.8335 3.40039 3.3335 10.8837 3.3335 20.1004C3.3335 28.4337 9.4335 35.3504 17.4002 36.6004V24.9337H13.1668V20.1004H17.4002V16.4171C17.4002 12.2337 19.8835 9.93372 23.7002 9.93372C25.5168 9.93372 27.4168 10.2504 27.4168 10.2504V14.3671H25.3168C23.2502 14.3671 22.6002 15.6504 22.6002 16.9671V20.1004H27.2335L26.4835 24.9337H22.6002V36.6004C26.5276 35.9801 30.1038 33.9762 32.6834 30.9505C35.2629 27.9247 36.6757 24.0765 36.6668 20.1004C36.6668 10.8837 29.1668 3.40039 20.0002 3.40039Z' />
  </svg>
)

const EmailIcon = () => (
  <svg width='40' height='40' viewBox='0 0 40 40' fill='currentColor' aria-hidden='true'>
    <path d='M33.3335 6.66699H6.66683C4.8335 6.66699 3.35016 8.16699 3.35016 10.0003L3.3335 30.0003C3.3335 31.8337 4.8335 33.3337 6.66683 33.3337H33.3335C35.1668 33.3337 36.6668 31.8337 36.6668 30.0003V10.0003C36.6668 8.16699 35.1668 6.66699 33.3335 6.66699ZM32.6668 13.7503L20.8835 21.117C20.3502 21.4503 19.6502 21.4503 19.1168 21.117L7.3335 13.7503C7.16638 13.6565 7.02003 13.5298 6.90331 13.3777C6.78659 13.2257 6.70193 13.0516 6.65445 12.8659C6.60698 12.6803 6.59767 12.4869 6.62709 12.2975C6.65651 12.1081 6.72406 11.9267 6.82563 11.7642C6.92721 11.6016 7.0607 11.4614 7.21804 11.352C7.37538 11.2425 7.55328 11.1662 7.74099 11.1275C7.9287 11.0888 8.1223 11.0886 8.31009 11.1269C8.49787 11.1652 8.67594 11.2412 8.8335 11.3503L20.0002 18.3337L31.1668 11.3503C31.3244 11.2412 31.5025 11.1652 31.6902 11.1269C31.878 11.0886 32.0716 11.0888 32.2593 11.1275C32.447 11.1662 32.6249 11.2425 32.7823 11.352C32.9396 11.4614 33.0731 11.6016 33.1747 11.7642C33.2763 11.9267 33.3438 12.1081 33.3732 12.2975C33.4027 12.4869 33.3933 12.6803 33.3459 12.8659C33.2984 13.0516 33.2137 13.2257 33.097 13.3777C32.9803 13.5298 32.834 13.6565 32.6668 13.7503Z' />
  </svg>
)

const LinkedInIcon = () => (
  <svg width='40' height='40' viewBox='0 0 40 40' fill='currentColor' aria-hidden='true'>
    <path d='M32.8451 5.00002H7.24505C6.95884 4.9987 6.67519 5.0541 6.41051 5.16302C6.14583 5.27193 5.90535 5.43222 5.70296 5.6346C5.50058 5.83699 5.34029 6.07747 5.23137 6.34215C5.12246 6.60683 5.06706 6.89048 5.06838 7.17669V32.8234C5.06838 33.9834 6.03505 35 7.24505 35H32.745C33.0314 35.0016 33.3152 34.9463 33.5801 34.8375C33.845 34.7287 34.0857 34.5684 34.2882 34.366C34.4908 34.1636 34.6512 33.9231 34.7602 33.6583C34.8693 33.3935 34.9247 33.1097 34.9234 32.8234V7.12836C35.0217 5.96836 34.0534 5.00002 32.8451 5.00002ZM13.9234 30.5H9.52172V16.225H13.925L13.9234 30.5ZM11.6984 14.2417C11.3611 14.2435 11.0269 14.1783 10.715 14.05C10.4031 13.9217 10.1197 13.7328 9.8813 13.4943C9.64289 13.2557 9.45418 12.9722 9.32609 12.6602C9.19799 12.3482 9.13306 12.0139 9.13505 11.6767C9.13505 10.275 10.295 9.11336 11.6984 9.11336C13.1017 9.11336 14.265 10.275 14.265 11.6767C14.265 13.0784 13.1984 14.2417 11.6984 14.2417ZM30.6184 30.5H26.215V23.58C26.215 21.935 26.1667 19.7584 23.8934 19.7584C21.57 19.7584 21.2317 21.5967 21.2317 23.435V30.5H16.8284V16.225H21.135V18.2084H21.1834C21.8117 17.0484 23.2167 15.8867 25.3934 15.8867C29.8934 15.8867 30.715 18.79 30.715 22.7584V30.5H30.6184Z' />
  </svg>
)

const InstagramIcon = () => (
  <svg width='40' height='40' viewBox='0 0 40 40' fill='currentColor' aria-hidden='true'>
    <path
      fillRule='evenodd'
      clipRule='evenodd'
      d='M9.68561 2.24902C7.71289 2.24902 5.82093 3.03249 4.42574 4.42714C3.03055 5.82179 2.24636 7.71345 2.24561 9.68617V29.5262C2.24561 31.4994 3.02946 33.3918 4.42473 34.787C5.82 36.1823 7.7124 36.9662 9.68561 36.9662H29.5256C31.4983 36.9654 33.39 36.1812 34.7846 34.786C36.1793 33.3908 36.9627 31.4989 36.9627 29.5262V9.68617C36.962 7.71395 36.1782 5.82272 34.7836 4.42815C33.3891 3.03358 31.4978 2.24978 29.5256 2.24902H9.68561ZM31.6656 9.6976C31.6656 10.2659 31.4398 10.811 31.038 11.2128C30.6361 11.6147 30.0911 11.8405 29.5227 11.8405C28.9544 11.8405 28.4094 11.6147 28.0075 11.2128C27.6057 10.811 27.3799 10.2659 27.3799 9.6976C27.3799 9.12927 27.6057 8.58423 28.0075 8.18237C28.4094 7.7805 28.9544 7.55474 29.5227 7.55474C30.0911 7.55474 30.6361 7.7805 31.038 8.18237C31.4398 8.58423 31.6656 9.12927 31.6656 9.6976ZM19.6085 13.6633C18.0323 13.6633 16.5207 14.2894 15.4062 15.4039C14.2917 16.5184 13.6656 18.03 13.6656 19.6062C13.6656 21.1823 14.2917 22.6939 15.4062 23.8084C16.5207 24.9229 18.0323 25.549 19.6085 25.549C21.1846 25.549 22.6962 24.9229 23.8107 23.8084C24.9252 22.6939 25.5513 21.1823 25.5513 19.6062C25.5513 18.03 24.9252 16.5184 23.8107 15.4039C22.6962 14.2894 21.1846 13.6633 19.6085 13.6633ZM10.8056 19.6062C10.8056 17.2723 11.7327 15.0339 13.3831 13.3836C15.0334 11.7333 17.2717 10.8062 19.6056 10.8062C21.9395 10.8062 24.1778 11.7333 25.8281 13.3836C27.4785 15.0339 28.4056 17.2723 28.4056 19.6062C28.4056 21.9401 27.4785 24.1784 25.8281 25.8287C24.1778 27.479 21.9395 28.4062 19.6056 28.4062C17.2717 28.4062 15.0334 27.479 13.3831 25.8287C11.7327 24.1784 10.8056 21.9401 10.8056 19.6062Z'
    />
  </svg>
)

export const ContactSection = ({ headline, ctaText, socialLinks }: ContactSectionProps) => (
  <section
    id='connect'
    className={cn('pt-10 pb-[120px] md:pb-0 px-6 md:px-10 desktop:px-20', 'bg-oathfire')}
  >
    <div className={cn('flex flex-col items-center', 'max-w-[952px] mx-auto', 'gap-16')}>
      {/* Title and Icons */}
      <div className='flex flex-col items-center gap-8'>
        <h2 className={cn('text-[32px] font-light italic text-moon-paper text-center')}>
          {headline}
        </h2>
        <div className='flex flex-wrap items-center justify-center gap-6 md:gap-10'>
          {socialLinks.whatsapp && (
            <a
              href={socialLinks.whatsapp}
              target='_blank'
              rel='noopener noreferrer'
              className='text-golden-sol hover:text-moon-paper transition-colors'
              aria-label='WhatsApp'
              onClick={() =>
                trackEvent('social_click', {
                  platform: 'whatsapp',
                  url: socialLinks.whatsapp || '',
                })
              }
            >
              <WhatsAppIcon />
            </a>
          )}
          {socialLinks.behance && (
            <a
              href={socialLinks.behance}
              target='_blank'
              rel='noopener noreferrer'
              className='text-golden-sol hover:text-moon-paper transition-colors'
              aria-label='Behance'
              onClick={() =>
                trackEvent('social_click', { platform: 'behance', url: socialLinks.behance || '' })
              }
            >
              <BehanceIcon />
            </a>
          )}
          {socialLinks.facebook && (
            <a
              href={socialLinks.facebook}
              target='_blank'
              rel='noopener noreferrer'
              className='text-golden-sol hover:text-moon-paper transition-colors'
              aria-label='Facebook'
              onClick={() =>
                trackEvent('social_click', {
                  platform: 'facebook',
                  url: socialLinks.facebook || '',
                })
              }
            >
              <FacebookIcon />
            </a>
          )}
          {socialLinks.email && (
            <a
              href={socialLinks.email}
              className='text-golden-sol hover:text-moon-paper transition-colors'
              aria-label='Email'
              onClick={() => trackEvent('email_click', {})}
            >
              <EmailIcon />
            </a>
          )}
          {socialLinks.linkedin && (
            <a
              href={socialLinks.linkedin}
              target='_blank'
              rel='noopener noreferrer'
              className='text-golden-sol hover:text-moon-paper transition-colors'
              aria-label='LinkedIn'
              onClick={() =>
                trackEvent('social_click', {
                  platform: 'linkedin',
                  url: socialLinks.linkedin || '',
                })
              }
            >
              <LinkedInIcon />
            </a>
          )}
          {socialLinks.instagram && (
            <a
              href={socialLinks.instagram}
              target='_blank'
              rel='noopener noreferrer'
              className='text-golden-sol hover:text-moon-paper transition-colors'
              aria-label='Instagram'
              onClick={() =>
                trackEvent('social_click', {
                  platform: 'instagram',
                  url: socialLinks.instagram || '',
                })
              }
            >
              <InstagramIcon />
            </a>
          )}
        </div>
      </div>

      {/* CTA Button */}
      <a
        href={`mailto:${socialLinks.email}`}
        className={cn(
          'px-5 py-3',
          'text-[18px] font-light text-oathfire text-center',
          'bg-moon-paper border-2 border-moon-paper',
          'rounded-lg',
          'transition-colors',
          'hover:bg-golden-sol hover:text-moon-paper hover:border-golden-sol',
        )}
        onClick={() => trackEvent('contact_click', { location: 'footer' })}
      >
        {ctaText}
      </a>
    </div>
  </section>
)
